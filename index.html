<!DOCTYPE html>
<html>
<head>
    <title>Stardoi Map</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rye&display=swap" rel="stylesheet">

    <style>
        /* กำหนดขนาดของแผนที่ */
        #map {
            height: 90vh; /* ลดความสูงเล็กน้อยเพื่อให้เห็นหัวข้อ */
            width: 100%;
        }
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            background-color: #f0f0f0; /* สีพื้นหลังเว็บเล็กน้อย */
        }

        /* 2. Style หัวข้อหลักของหน้าเว็บ */
        .map-title {
            font-family: 'Rye', cursive;
            color: green;
            text-align: center;
            text-transform: uppercase; /* ทำให้เป็นตัวพิมพ์ใหญ่ */
            font-size: 2.5em;
            margin: 20px 0;
        }

        /* 3. Style เนื้อหาใน InfoWindow (กล่องข้อความ) */
        .info-window-content {
            font-family: 'Rye', cursive;
            color: green;
        }
        .info-window-content strong {
            text-transform: uppercase; /* ทำให้ชื่อสถานที่ในกล่องเป็นตัวพิมพ์ใหญ่ */
            font-size: 1.1em;
        }
        .info-window-content a {
            text-decoration: none;
            color: green;
        }
        
        /* 4. Style สำหรับ Popup 'COMING SOON' */
        .coming-soon-popup {
            font-family: 'Rye', cursive;
            color: green;
            font-size: 1.5em;
            text-align: center;
            padding: 10px;
            text-transform: uppercase; /* ทำให้เป็นตัวพิมพ์ใหญ่ */
        }
    </style>
</head>
<body>
    <h3 class="map-title">Stardoi Locations</h3>
    
    <div id="map"></div>

    <script>
        function initMap() {
            const mapCenter = { lat: 15.8700, lng: 100.9925 };

            const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 6,
                center: mapCenter,
            });

            // เพิ่ม property 'status' เพื่อเช็ค 'coming_soon'
            const locations = [
                {
                    position: { lat: 20.25841, lng: 100.06305 },
                    title: "StardoiCoffee & Farmstay",
                    address: "296, Si Don Mun, Chiang Saen, Chiang Rai 57150",
                    url: "https://www.stardoi.com/"
                },
                {
                    position: { lat: 14.52955, lng: 101.37424 },
                    title: "StardoiFarm Khaoyai",
                    address: "161/2, Mu Si, Pak Chong, Nakhon Ratchasima 30130",
                    url: "https://kaehcare.github.io/StardoiFarmKhaoyaiMap/"
                },
                {
                    position: { lat: 12.9342, lng: 100.8825 },
                    title: "StardoiFarm Pattaya",
                    address: "Pattaya, Chonburi",
                    url: null,
                    status: 'coming_soon' // <-- เพิ่ม status สำหรับเช็คเงื่อนไข
                }
            ];

            locations.forEach(location => {
                const marker = new google.maps.Marker({
                    position: location.position,
                    map: map,
                    title: location.title,
                });

                let contentString = '';

                // **แก้ไขจุดนี้: เพิ่มเงื่อนไขสำหรับ 'coming_soon'**
                if (location.status === 'coming_soon') {
                    contentString = `<div class="coming-soon-popup">COMING SOON</div>`;
                } else {
                    contentString = `
                        <div class="info-window-content">
                            <a href="${location.url}" target="_blank">
                                <strong>${location.title}</strong><br>
                                ${location.address}<br>
                                <small>(Click for more info)</small>
                            </a>
                        </div>`;
                }
                
                const infowindow = new google.maps.InfoWindow({
                    content: contentString
                });

                marker.addListener("click", () => {
                    infowindow.open({
                        anchor: marker,
                        map: map,
                    });
                });
            });
        }
    </script>

    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCayqNad1Jo3-NsS18tu92trlEJw-o4IoM&callback=initMap">
    </script>
</body>
</html>
