<!DOCTYPE html>
<html>
<head>
    <title>Stardoi Map - Upgraded</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rye&family=Quicksand:wght@500&display=swap" rel="stylesheet">

    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            background-color: #fdfaf6;
        }
        #map {
            height: 90vh;
            width: 100%;
        }

        /* --- STYLES FOR THE PAGE TITLE --- */
        .map-title {
            font-family: 'Rye', cursive;
            color: #4a5d23; /* Dark Green */
            text-align: center;
            text-transform: uppercase;
            font-size: 2.5em;
            margin: 20px 0;
        }

        /* --- STYLES FOR INFO WINDOW CONTENT --- */
        .info-window-content {
            font-family: 'Quicksand', sans-serif; /* A clean font for details */
            color: #333;
            text-align: center;
            max-width: 250px;
        }
        .info-window-content strong {
            font-family: 'Rye', cursive;
            color: #4a5d23;
            text-transform: uppercase;
            font-size: 1.2em;
        }
        .info-window-image {
            width: 100%;
            height: auto;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        .info-window-details p {
            margin: 5px 0;
            text-align: left;
            font-size: 0.9em;
        }
        .info-window-details a {
            color: #1a73e8;
            text-decoration: none;
        }
        .info-window-buttons {
            margin-top: 15px;
        }
        .action-button {
            display: inline-block;
            margin: 0 5px;
            padding: 8px 12px;
            background-color: #6b8e23; /* Olive Green */
            color: white !important;
            border-radius: 5px;
            font-size: 0.8em;
            text-transform: uppercase;
            text-decoration: none;
        }
        .action-button.directions {
            background-color: #28a745; /* Brighter Green for directions */
        }
    </style>
</head>
<body>
    <h3 class="map-title">Stardoi Locations</h3>
    <div id="map"></div>

    <script>
        // === 1. CUSTOM MAP STYLE ===
        // Style from Snazzy Maps (Subtle Green Tones)
        const mapStyle = [
            { "featureType": "administrative", "elementType": "labels.text.fill", "stylers": [{ "color": "#444444" }] },
            { "featureType": "landscape", "elementType": "all", "stylers": [{ "color": "#f2f2f2" }] },
            { "featureType": "poi", "elementType": "all", "stylers": [{ "visibility": "off" }] },
            { "featureType": "road", "elementType": "all", "stylers": [{ "saturation": -100 }, { "lightness": 45 }] },
            { "featureType": "road.highway", "elementType": "all", "stylers": [{ "visibility": "simplified" }] },
            { "featureType": "road.arterial", "elementType": "labels.icon", "stylers": [{ "visibility": "off" }] },
            { "featureType": "transit", "elementType": "all", "stylers": [{ "visibility": "off" }] },
            { "featureType": "water", "elementType": "all", "stylers": [{ "color": "#a8d1e2" }, { "visibility": "on" }] }
        ];

        function initMap() {
            const mapCenter = { lat: 15.8700, lng: 100.9925 };
            const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 6,
                center: mapCenter,
                styles: mapStyle, // Apply the custom style here
                streetViewControl: false, // Optional: Hide street view button
                mapTypeControl: false    // Optional: Hide map/satellite toggle
            });

            // === 2. CUSTOM MARKER ICON & 3. RICHER DATA ===
            // Using a free sheep icon from a public source
            const customIconUrl = 'https://i.imgur.com/g1u2Y5w.png'; 

            const locations = [
                {
                    position: { lat: 20.25841, lng: 100.06305 },
                    title: "StardoiCoffee & Farmstay",
                    address: "296, Si Don Mun, Chiang Saen, Chiang Rai",
                    url: "https://www.stardoi.com/",
                    image: "https://i.imgur.com/w9N02nf.jpg", // Placeholder image
                    hours: "08:00 - 18:00 Daily",
                    phone: "091-234-5678"
                },
                {
                    position: { lat: 14.52955, lng: 101.37424 },
                    title: "StardoiFarm Khaoyai",
                    address: "161/2, Mu Si, Pak Chong, Nakhon Ratchasima",
                    url: "https://kaehcare.github.io/StardoiFarmKhaoyaiMap/",
                    image: "https://i.imgur.com/n14T3h0.jpg", // Placeholder image
                    hours: "09:00 - 19:00 (Closed Wed)",
                    phone: "092-345-6789"
                },
                {
                    position: { lat: 12.9342, lng: 100.8825 },
                    title: "StardoiFarm Pattaya",
                    status: 'coming_soon'
                }
            ];

            locations.forEach(location => {
                const marker = new google.maps.Marker({
                    position: location.position,
                    map: map,
                    title: location.title,
                    // Apply custom icon unless it's the 'coming soon' location
                    icon: location.status !== 'coming_soon' ? {
                        url: customIconUrl,
                        scaledSize: new google.maps.Size(48, 48) // Resize the icon
                    } : null,
                    animation: google.maps.Animation.DROP // === 4. MARKER ANIMATION ===
                });

                let contentString = '';
                if (location.status === 'coming_soon') {
                    contentString = `<div class="info-window-content" style="padding:10px;"><strong>COMING SOON</strong></div>`;
                } else {
                    const destination = `${location.position.lat},${location.position.lng}`;
                    const navigationUrl = `https://www.google.com/maps/dir/?api=1&destination=${destination}`;
                    
                    contentString = `
                        <div class="info-window-content">
                            <img src="${location.image}" alt="${location.title}" class="info-window-image">
                            <strong>${location.title}</strong>
                            <div class="info-window-details">
                                <p>üìç ${location.address}</p>
                                <p>‚è∞ ${location.hours}</p>
                                <p>üìû <a href="tel:${location.phone}">${location.phone}</a></p>
                            </div>
                            <div class="info-window-buttons">
                                <a href="${location.url}" target="_blank" class="action-button">Website</a>
                                <a href="${navigationUrl}" target="_blank" class="action-button directions">Directions</a>
                            </div>
                        </div>`;
                }
                
                const infowindow = new google.maps.InfoWindow({
                    content: contentString
                });

                marker.addListener("click", () => {
                    infowindow.open({ anchor: marker, map: map });
                });
            });
        }
    </script>
    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCayqNad1Jo3-NsS18tu92trlEJw-o4IoM&callback=initMap">
    </script>
</body>
</html>
